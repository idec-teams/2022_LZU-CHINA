## Molecular Biology
We obtain information on lldPRD operon, pCaCd, pPepT, YebF, HlyE, Bxb1, TP901, Amplifying genetic switches, CCL21, CDD-iRGD, φX174 E, INP and HlpA from NCBI, iGEM and BioCyc databases, and amplify using colony PCR from E. coli DH5α, or synthesize (Genewiz, China). mRFPs were deposited and provided by our laboratory. We purchase E. coli Nissle 1917 (EcN) from Biobw (China, Beijing). E. coli DH5α were deposited from laboratory. All plasmids base on the pSB1A3/pSB3T5/pSB4C5 plasmid backbone. pSB1A3 is ampicillin resistant and carries the highcopy replicon ColE1; pSB3T5 is tetracycline resistant and carries the medium copy replicon p15A; pSB4C5 is chloramphenicol resistant and carries the low copy replicon pSC101. All Biobrick parts will be registered in the iGEM Standard Bioparts Registry (partsregistry.org). All amplification primers were synthesized by Tsingke (China, Beijing).

We use a one-step cloning kit (C113, Vazyme, China) to assemble recombinant plasmids (constructions), including Reporter 01-03; Controller 01-06; Switch 01-06; Effector 01-03 (full HlpAmstrain information is provided in Supplementary Materials). Both Reporter and Controller use pSB1A3 as the plasmid backbone. Switch uses pSB4C5 as the plasmid backbone and Effector uses pSB3T5 as the plasmid backbone. All recombinant plasmids were first transformed into E. coli DH5α for amplification and proofed by DNA sequencing (GENERAL Biol,Chuzhou, China), then transformed into EcN.

Reporter consists of an operational unit that senses hypoxia/pH/L-lactate and an mRFP, which purpose was to verify the in vitro response of pPepT/pCaCd/lldPRD operon by fluorescent protein mRFP. Controller introduce the genes TP901 and Bxb1 encoding serine integrase to the downstream of pPepT/pCaCd/lldPRD operon to control the Amplifying genetic switches. Switch 01- 02 were composed of Amplifying genetic switches (TP901 or Bxb1 switches) and fluorescent protein mRFP; Switch 03-04 were composed of Amplifying genetic switches and lysis gene φ X174 E; Switch 05-06 were composed of Amplifying genetic switches and YebF -HlyE composition. Finally, Effector controls the expression of therapeutic proteins HlyE, CCL21 or CDD-iRGD by the constitutive promoter J23100.

We transform Controller and Switch 01/02 into EcN (Amplifying reporter, AR 01-06) to check the signal amplification effect of the Amplifying genetic logic gate, and compare with the Reporter to determine the best induction-response system. We transform the Controller and Switch 05/06 verified in the previous step into EcN (Amplifying Effector, AE) to endow it with the ability to eliminate colorectal cancer. Finally, we construct LE strain (Lysis Effector), which consisted of Controller 05/06, Switch 03/04 and Effector 01-03. To check the lysis ability of φX174 E, we replace the Effector (Lysis reporter, LR) by pSB3T5 (Reporter variant, RV) constitutively expressing mRFP. Since Controller, Switch and Effector possess different replicons and resistances, that ensure the plasmid compatibility.

## Characterization and Analysis of Reporting Strains in Vitro

We culture each strain in M9 basic medium with relevant antibiotics (supplemented with 0.4% glucose) overnight (37℃, 150 rpm), followed for the further experiment next morning. For lactic acid reporters (Reporter 01; AR 01/02; LR), the culture of each lactic acid reporter variant strain was transferred to a 24 well plates (6 repeats), with M9 broth diluted to 1 mL per well. The next step, the final concentration of L-lactic acid should reach 0, 0.1, 1,5 and 10 mM, by adding 25μL M9 broth containing different concentrations of L-lactic acid (Sigma-Aldrich). For pH reporter (Reporter 02, AR 03/04, LR), each variety strain needs to be cultured in the 96 well plates, and the pH value of M9 medium should be 5.5, 5.8, 6.3 and 7.3, respectively. For hypoxia reporters (Reporter 03, AR 05/06, LR), we culture each variant strain overnight under normoxic and hypoxic conditions at 37℃. To achieve hypoxia, reporters were incubated statically in an anaerobic pocket(Hopebiol, Qingdao, China) with oxygen indicators. We select untransformed EcN and EcN containing p23114-mRFP which grows under the same conditions as negative control and positive control respectively.

The initial OD600 value of all strains is 0.1. After 16-20 hours’ incubation, we detect OD600 and mRFP fluorescence through microplate reader (Thermo Fisher Scientific, USA) (excitation λ: 584nm/10 nm, emission λ: 607/10nm). The fluorescence of all reporters in vitro is calculated by dividing the crude mRFP pixel intensity by OD600, and both signals we obtain from the data of microplate reader. In addition, the background fluorescence signal need to be deducted (no plasmid EcN control). For hypoxia reporters, the fluorescence signal was normalized through the control of constitutive promoter (p23114) to explain the protein folding maturation under hypoxia.

The fold change of each reporter was quantified as the ratio of normalized fluorescence signal under induced and non-induced conditions. We average over all three duplicate values. The baseline conditions are 20% oxygen concentration, 0 mM lactic acid concentration, pH $7.3^{25}$.